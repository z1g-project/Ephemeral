{
  "version": 3,
  "sources": ["../../node_modules/set-cookie-parser/lib/set-cookie.js", "../../src/client/api/element.ts", "../../src/client/api/history.ts", "../../src/client/api/navigator.ts", "../../src/client/api/network.ts", "../../src/client/api/open.ts", "../../src/client/pluginLoader.ts", "../../src/client/api/cookie.ts", "../../src/util/DOMStringList.ts", "../../src/client/api/location.ts", "../../src/client/api/document.ts", "../../src/client/api/storage.ts", "../../src/client/api/scripting.ts", "../../src/client/api/window.ts", "../../src/client/scope.ts", "../../src/client/index.ts"],
  "sourcesContent": ["\"use strict\";\n\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false,\n};\n\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\n\nfunction parseString(setCookieValue, options) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n\n  var nameValuePairStr = parts.shift();\n  var parsed = parseNameValuePair(nameValuePairStr);\n  var name = parsed.name;\n  var value = parsed.value;\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  try {\n    value = options.decodeValues ? decodeURIComponent(value) : value; // decode cookie value\n  } catch (e) {\n    console.error(\n      \"set-cookie-parser encountered an error while decoding a cookie with value '\" +\n        value +\n        \"'. Set options.decodeValues to false to disable this feature.\",\n      e\n    );\n  }\n\n  var cookie = {\n    name: name,\n    value: value,\n  };\n\n  parts.forEach(function (part) {\n    var sides = part.split(\"=\");\n    var key = sides.shift().trimLeft().toLowerCase();\n    var value = sides.join(\"=\");\n    if (key === \"expires\") {\n      cookie.expires = new Date(value);\n    } else if (key === \"max-age\") {\n      cookie.maxAge = parseInt(value, 10);\n    } else if (key === \"secure\") {\n      cookie.secure = true;\n    } else if (key === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key === \"samesite\") {\n      cookie.sameSite = value;\n    } else {\n      cookie[key] = value;\n    }\n  });\n\n  return cookie;\n}\n\nfunction parseNameValuePair(nameValuePairStr) {\n  // Parses name-value-pair according to rfc6265bis draft\n\n  var name = \"\";\n  var value = \"\";\n  var nameValueArr = nameValuePairStr.split(\"=\");\n  if (nameValueArr.length > 1) {\n    name = nameValueArr.shift();\n    value = nameValueArr.join(\"=\"); // everything after the first =, joined by a \"=\" if there was more than one part\n  } else {\n    value = nameValuePairStr;\n  }\n\n  return { name: name, value: value };\n}\n\nfunction parse(input, options) {\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!input) {\n    if (!options.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n\n  if (input.headers) {\n    if (typeof input.headers.getSetCookie === \"function\") {\n      // for fetch responses - they combine headers of the same type in the headers array,\n      // but getSetCookie returns an uncombined array\n      input = input.headers.getSetCookie();\n    } else if (input.headers[\"set-cookie\"]) {\n      // fast-path for node.js (which automatically normalizes header names to lower-case\n      input = input.headers[\"set-cookie\"];\n    } else {\n      // slow-path for other environments - see #25\n      var sch =\n        input.headers[\n          Object.keys(input.headers).find(function (key) {\n            return key.toLowerCase() === \"set-cookie\";\n          })\n        ];\n      // warn if called on a request-like object with a cookie header rather than a set-cookie header - see #34, 36\n      if (!sch && input.headers.cookie && !options.silent) {\n        console.warn(\n          \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n        );\n      }\n      input = sch;\n    }\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!options.map) {\n    return input.filter(isNonEmptyString).map(function (str) {\n      return parseString(str, options);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function (cookies, str) {\n      var cookie = parseString(str, options);\n      cookies[cookie.name] = cookie;\n      return cookies;\n    }, cookies);\n  }\n}\n\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n\n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        // ',' is a cookie separator if we have later first '=', not ';' or ','\n        lastComma = pos;\n        pos += 1;\n\n        skipWhitespace();\n        nextStart = pos;\n\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n\n        // currently special character\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          // we found cookies separator\n          cookiesSeparatorFound = true;\n          // pos is inside the next cookie, so back up and return it.\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          // in param ',' or param separator ';',\n          // we continue from that comma\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n\n  return cookiesStrings;\n}\n\nmodule.exports = parse;\nmodule.exports.parse = parse;\nmodule.exports.parseString = parseString;\nmodule.exports.splitCookiesString = splitCookiesString;\n", "// TODO: contentWindow and contentDocument\r\nconst ATTRIBUTE_FUNCTIONS = [\r\n  \"getAttribute\",\r\n  \"setAttribute\",\r\n  \"hasAttribute\",\r\n  \"removeAttribute\",\r\n  \"getAttributeNode\",\r\n  \"setAttributeNode\",\r\n  \"removeAttributeNode\",\r\n  \"getAttributeNames\"\r\n] as const;\r\n\r\nconst ATTRIBUTE_REWRITES = {\r\n  href: [HTMLAnchorElement, HTMLLinkElement, HTMLAreaElement, HTMLBaseElement],\r\n  src: [\r\n    HTMLAudioElement,\r\n    HTMLEmbedElement,\r\n    HTMLIFrameElement,\r\n    HTMLImageElement,\r\n    HTMLInputElement,\r\n    HTMLScriptElement,\r\n    HTMLSourceElement,\r\n    HTMLTrackElement,\r\n    HTMLVideoElement\r\n  ],\r\n  srcdoc: [HTMLIFrameElement],\r\n  srcset: [HTMLImageElement, HTMLSourceElement],\r\n  action: [HTMLFormElement],\r\n  poster: [HTMLVideoElement],\r\n  formaction: [HTMLButtonElement],\r\n  data: [HTMLObjectElement],\r\n  background: [HTMLBodyElement],\r\n  integrity: [HTMLScriptElement, HTMLLinkElement],\r\n  nonce: [HTMLElement]\r\n} as const;\r\n\r\nexport const attributes = Object.fromEntries(\r\n  ATTRIBUTE_FUNCTIONS.map(\r\n    (\r\n      ATTRIBUTE_FUNCTION\r\n    ): [typeof ATTRIBUTE_FUNCTION, PropertyDescriptor[\"value\"]] => {\r\n      return [\r\n        ATTRIBUTE_FUNCTION,\r\n        Object.getOwnPropertyDescriptor(Element.prototype, ATTRIBUTE_FUNCTION)\r\n          ?.value\r\n      ];\r\n    }\r\n  )\r\n) as {\r\n  [key in (typeof ATTRIBUTE_FUNCTIONS)[number]]: PropertyDescriptor[\"value\"];\r\n};\r\n\r\nconst INNER_HTML = Object.getOwnPropertyDescriptor(\r\n  Element.prototype,\r\n  \"innerHTML\"\r\n);\r\nconst INNER_TEXT = Object.getOwnPropertyDescriptor(\r\n  Element.prototype,\r\n  \"innerText\"\r\n);\r\n\r\nObject.defineProperty(Node.prototype, \"baseURI\", {\r\n  get() {\r\n    return __$ampere.base;\r\n  }\r\n});\r\n\r\nObject.defineProperties(Element.prototype, {\r\n  innerHTML: {\r\n    set(value: string) {\r\n      if (this instanceof HTMLScriptElement) {\r\n        INNER_HTML?.set?.call(this, __$ampere.rewriteJS(value, __$ampere.base));\r\n      } else if (this instanceof HTMLStyleElement) {\r\n        INNER_HTML?.set?.call(\r\n          this,\r\n          __$ampere.rewriteCSS(value, __$ampere.base)\r\n        );\r\n      } else {\r\n        INNER_HTML?.set?.call(\r\n          this,\r\n          __$ampere.rewriteHTML(value, __$ampere.base, __$ampere.cookie)\r\n        );\r\n      }\r\n\r\n      return value;\r\n    },\r\n    get() {\r\n      return INNER_HTML?.get?.call(this);\r\n    }\r\n  },\r\n  innerText: {\r\n    set: function (value: string) {\r\n      if (this instanceof HTMLScriptElement) {\r\n        INNER_TEXT?.set?.call(this, __$ampere.rewriteJS(value, __$ampere.base));\r\n      } else if (this instanceof HTMLStyleElement) {\r\n        INNER_TEXT?.set?.call(\r\n          this,\r\n          __$ampere.rewriteCSS(value, __$ampere.base)\r\n        );\r\n      } else {\r\n        INNER_TEXT?.set?.call(this, value);\r\n      }\r\n\r\n      return value;\r\n    },\r\n    get: function () {\r\n      return INNER_TEXT?.get?.call(this);\r\n    }\r\n  },\r\n  getAttribute: {\r\n    value: function (attribute: string) {\r\n      if (/^_/.test(attribute)) {\r\n        return attributes.getAttribute.call(this, `_${attribute}`);\r\n      } else if (attributes.hasAttribute.call(this, `_${attribute}`)) {\r\n        return attributes.getAttribute.call(this, `_${attribute}`);\r\n      }\r\n      return attributes.getAttribute.call(this, attribute);\r\n    }\r\n  },\r\n  setAttribute: {\r\n    value: function (attribute: string, value: string) {\r\n      if (attribute.startsWith(\"on\")) {\r\n        return attributes.setAttribute.call(\r\n          this,\r\n          attribute,\r\n          __$ampere.rewriteJS(value, __$ampere.base)\r\n        );\r\n      } else if (/^_/.test(attribute)) {\r\n        return attributes.setAttribute.call(this, `_${attribute}`, value);\r\n      }\r\n      return attributes.setAttribute.call(this, attribute, value);\r\n    }\r\n  },\r\n  hasAttribute: {\r\n    value: function (attribute: string) {\r\n      if (/^_/.test(attribute)) {\r\n        return attributes.hasAttribute.call(this, `_${attribute}`);\r\n      } else if (attributes.hasAttribute.call(this, `_${attribute}`)) {\r\n        return true;\r\n      } else {\r\n        return attributes.hasAttribute.call(this, attribute);\r\n      }\r\n    }\r\n  },\r\n  removeAttribute: {\r\n    value: function (attribute: string) {\r\n      if (/^_/.test(attribute)) {\r\n        return attributes.removeAttribute.call(this, `_${attribute}`);\r\n      } else if (attributes.hasAttribute.call(this, `_${attribute}`)) {\r\n        return attributes.removeAttribute.call(this, `_${attribute}`);\r\n      }\r\n      return attributes.removeAttribute.call(this, attribute);\r\n    }\r\n  },\r\n  getAttributeNode: {\r\n    value: function (attribute: string) {\r\n      if (/^_/.test(attribute)) {\r\n        return attributes.getAttributeNode.call(this, `_${attribute}`);\r\n      } else if (attributes.hasAttribute.call(this, `_${attribute}`)) {\r\n        const attr = attributes.getAttributeNode.call(this, `_${attribute}`);\r\n        if (!attr) return null;\r\n        return new Proxy(attr, {\r\n          get: function (target, prop: keyof Attr) {\r\n            if ([\"name\", \"localName\", \"nodeName\"].includes(prop)) {\r\n              return target.name.replace(/^_/, \"\");\r\n            }\r\n            return target[prop];\r\n          }\r\n        });\r\n      }\r\n      return attributes.getAttributeNode.call(this, attribute);\r\n    }\r\n  },\r\n  setAttributeNode: {\r\n    value: function (attribute: Attr) {\r\n      if (/^on[a-z]+/i.test(attribute.name)) {\r\n        return attributes.setAttribute.call(\r\n          this,\r\n          attribute.name,\r\n          __$ampere.rewriteJS(attribute.value, __$ampere.base)\r\n        );\r\n      } else if (/^_/.test(attribute.name)) {\r\n        return attributes.setAttribute.call(\r\n          this,\r\n          `_${attribute}`,\r\n          attribute.value\r\n        );\r\n      }\r\n      return attributes.setAttributeNode.call(this, attribute);\r\n    }\r\n  },\r\n  removeAttributeNode: {\r\n    value: function (attribute: Attr) {\r\n      if (/^_/.test(attribute.name)) {\r\n        return attributes.removeAttribute.call(this, `_${attribute.name}`);\r\n      } else if (attributes.hasAttribute.call(this, `_${attribute.name}`)) {\r\n        attributes.removeAttribute.call(this, attribute.name);\r\n        return attributes.removeAttribute.call(this, `_${attribute.name}`);\r\n      }\r\n      return attributes.removeAttributeNode.call(this, attribute);\r\n    }\r\n  },\r\n  getAttributeNames: {\r\n    value: function () {\r\n      let attributeNames = attributes.getAttributeNames.call(this) as string[];\r\n      attributeNames = attributeNames.map((attribute) => {\r\n        if (/^_/.test(attribute)) {\r\n          return attribute.replace(/^_/, \"\");\r\n        }\r\n        return attribute;\r\n      });\r\n      return Array.from(new Set(attributeNames));\r\n    }\r\n  }\r\n});\r\n\r\nObject.entries(ATTRIBUTE_REWRITES).forEach(([property, elements]) => {\r\n  elements.forEach((element: typeof HTMLElement) => {\r\n    const { get, set } =\r\n      Object.getOwnPropertyDescriptor(element.prototype, property) ?? {};\r\n    if (!get || !set) return;\r\n    Object.defineProperty(element.prototype, property, {\r\n      get() {\r\n        if (property === \"href\" || property === \"src\") {\r\n          return __$ampere.unwriteURL(this.getAttribute(property));\r\n        }\r\n        return get.call(this);\r\n      },\r\n      set(value) {\r\n        if (property === \"href\" || property === \"src\") {\r\n          attributes.setAttribute.call(\r\n            this,\r\n            property,\r\n            __$ampere.rewriteURL(value, __$ampere.base)\r\n          );\r\n        } else if (property === \"integrity\") {\r\n          attributes.setAttribute.call(this, `_${property}`, value);\r\n        } else if (property === \"srcset\") {\r\n          attributes.setAttribute.call(\r\n            this,\r\n            `srcset`,\r\n            __$ampere.rewriteSrcSet(value, __$ampere.base)\r\n          );\r\n          attributes.setAttribute.call(this, `_${property}`, value);\r\n        } else if (property === \"srcdoc\") {\r\n          attributes.setAttribute.call(\r\n            this,\r\n            `srcdoc`,\r\n            __$ampere.rewriteHTML(value, __$ampere.base, __$ampere.cookie)\r\n          );\r\n          attributes.setAttribute.call(this, `_${property}`, value);\r\n        } else {\r\n          set.call(this, value);\r\n        }\r\n\r\n        return value;\r\n      }\r\n    });\r\n  });\r\n});\r\n", "function createHistoryProxy(\r\n  func: History[\"pushState\"] | History[\"replaceState\"]\r\n) {\r\n  return new Proxy(func, {\r\n    apply(target: any, thisArg: any, args: any[]) {\r\n      __$ampere.logger.debug(\"Hooking history update\", args[2]);\r\n\r\n      if (args[2]) args[2] = __$ampere.rewriteURL(args[2], __$ampere.base);\r\n      return Reflect.apply(target, thisArg, args);\r\n    }\r\n  });\r\n}\r\n\r\nhistory.pushState = createHistoryProxy(history.pushState);\r\nhistory.replaceState = createHistoryProxy(history.replaceState);\r\n", "Object.defineProperty(navigator, \"serviceWorker\", {\r\n  get() {\r\n    return undefined;\r\n  }\r\n});\r\n\r\nObject.defineProperty(Navigator.prototype, \"serviceWorker\", {\r\n  get() {\r\n    return undefined;\r\n  }\r\n});\r\n", "window.fetch = new Proxy(fetch, {\r\n  apply(target, thisArg, argArray) {\r\n    __$ampere.logger.debug(\"Hooking fetch\", argArray[0]);\r\n\r\n    if (argArray[0] && typeof argArray[0] === \"string\") {\r\n      argArray[0] = __$ampere.rewriteURL(argArray[0], __$ampere.base);\r\n    }\r\n\r\n    return Reflect.apply(target, thisArg, argArray);\r\n  }\r\n});\r\n\r\nnavigator.sendBeacon = new Proxy(navigator.sendBeacon, {\r\n  apply(target, thisArg, args) {\r\n    __$ampere.logger.debug(\"Hooking sendBeacon\", args[0]);\r\n\r\n    if (args[0]) {\r\n      args[0] = __$ampere.rewriteURL(args[0], __$ampere.base);\r\n    }\r\n    return Reflect.apply(target, thisArg, args);\r\n  }\r\n});\r\n\r\nwindow.XMLHttpRequest.prototype.open = new Proxy(\r\n  window.XMLHttpRequest.prototype.open,\r\n  {\r\n    apply(target, thisArg, args) {\r\n      __$ampere.logger.debug(\"Hooking XHR.open\", args[1]);\r\n\r\n      if (args[1]) {\r\n        args[1] = __$ampere.rewriteURL(args[1].toString(), __$ampere.base);\r\n      }\r\n      return Reflect.apply(target, thisArg, args);\r\n    }\r\n  }\r\n);\r\n\r\nwindow.WebSocket = new Proxy(window.WebSocket, {\r\n  construct(target, args) {\r\n    const ws = new target(\r\n      `${location.protocol.replace(\"http\", \"ws\")}//${\r\n        new URL(__$ampere.bare).host\r\n      }/v3/`\r\n    );\r\n    let readyState = 0;\r\n\r\n    const READY_STATE = Object.getOwnPropertyDescriptor(\r\n      WebSocket.prototype,\r\n      \"readyState\"\r\n    )?.get;\r\n\r\n    Object.defineProperty(ws, \"readyState\", {\r\n      get() {\r\n        if (readyState === 0) {\r\n          return 0;\r\n        } else {\r\n          return READY_STATE?.call(ws);\r\n        }\r\n      }\r\n    });\r\n\r\n    function message(event: MessageEvent) {\r\n      event.preventDefault();\r\n      event.stopImmediatePropagation();\r\n\r\n      const message = JSON.parse(event.data);\r\n\r\n      if (message.type === \"open\") {\r\n        message.setCookies.forEach((cookie: string) => {\r\n          __$ampere.scope(document).cookie = cookie;\r\n        });\r\n\r\n        Object.defineProperties(ws, {\r\n          protocol: {\r\n            value: message.protocol\r\n          },\r\n          url: {\r\n            value: args[0]\r\n          }\r\n        });\r\n\r\n        readyState = 1;\r\n\r\n        ws.dispatchEvent(new Event(\"open\"));\r\n      } else {\r\n        ws.close();\r\n      }\r\n    }\r\n\r\n    ws.addEventListener(\"message\", message, { once: true });\r\n\r\n    function open(event: Event) {\r\n      event.preventDefault();\r\n      event.stopImmediatePropagation();\r\n\r\n      ws.send(\r\n        JSON.stringify({\r\n          type: \"connect\",\r\n          remote: args[0],\r\n          protocols: args[1] ? [args[1]].flat() : [],\r\n          headers: {\r\n            \"Cache-Control\": \"no-cache\",\r\n            Connection: \"Upgrade\",\r\n            Host: new URL(args[0]).host,\r\n            Origin: __$ampere.scope(location).origin,\r\n            Pragma: \"no-cache\",\r\n            Upgrade: \"websocket\",\r\n            \"User-Agent\": navigator.userAgent,\r\n            Cookie: __$ampere.scope(document).cookie\r\n          },\r\n          forwardHeaders: []\r\n        })\r\n      );\r\n    }\r\n\r\n    ws.addEventListener(\"open\", open, { once: true });\r\n\r\n    return ws;\r\n  }\r\n});\r\n\r\nwindow.Request = new Proxy(Request, {\r\n  construct(target, args) {\r\n    __$ampere.logger.debug(\"Hooking Request constructor\", args[0]);\r\n\r\n    if (args[0] && typeof args[0] === \"string\") {\r\n      args[0] = __$ampere.rewriteURL(args[0], __$ampere.base);\r\n    }\r\n\r\n    return new Proxy(Reflect.construct(target, args), {\r\n      get(target, prop) {\r\n        if (prop === \"url\") {\r\n          return __$ampere.unwriteURL(target[prop]);\r\n        }\r\n\r\n        return Reflect.get(target, prop);\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nwindow.Response = new Proxy(Response, {\r\n  construct(target, args) {\r\n    return new Proxy(Reflect.construct(target, args), {\r\n      get(target, prop) {\r\n        if (prop === \"url\") {\r\n          return __$ampere.unwriteURL(target[prop]);\r\n        }\r\n\r\n        return Reflect.get(target, prop);\r\n      }\r\n    });\r\n  }\r\n});\r\n", "window.open = new Proxy(window.open, {\r\n  apply(target, thisArg, args) {\r\n    if (args[0]) args[0] = __$ampere.rewriteURL(args[0], __$ampere.base);\r\n    return Reflect.apply(target, thisArg, args);\r\n  }\r\n});\r\n\r\ndocument.open = new Proxy(document.open, {\r\n  apply(target, thisArg, args) {\r\n    if (args.length === 3) {\r\n      args[0] = __$ampere.rewriteURL(args[0], __$ampere.base);\r\n      return window.open(...args);\r\n    }\r\n\r\n    return Reflect.apply(target, thisArg, args);\r\n  }\r\n});\r\n", "for (const plugin of __$ampere.config.plugins) {\r\n  try {\r\n    if (plugin.client) {\r\n      __$ampere.logger.info(\"Loading plugin\", plugin.name);\r\n      plugin.client(window);\r\n      __$ampere.logger.info(\"Loaded plugin\", plugin.name);\r\n    }\r\n  } catch (e) {\r\n    __$ampere.logger.error(\"Failed to load plugin\", plugin.name, e);\r\n  }\r\n}\r\n", "import parse from \"set-cookie-parser\";\r\n\r\nexport function setCookie(value: string): string {\r\n  const cookie = parse(value, {\r\n    silent: true,\r\n    decodeValues: false\r\n  })[0];\r\n\r\n  if (cookie.expires && cookie.expires.getTime() < Date.now()) {\r\n    __$ampere.cookie = __$ampere.cookie\r\n      .replace(`${cookie.name}=${cookie.value}`, \"\")\r\n      .replace(/(;\\s*){2,}/g, \"; \");\r\n\r\n    return value;\r\n  }\r\n\r\n  __$ampere.cookie = `${__$ampere.cookie}; ${cookie.name}=${cookie.value}}`;\r\n\r\n  (async () => {\r\n    await __$ampere.setCookie(value, __$ampere.base);\r\n    __$ampere.cookie = (await __$ampere.getCookie(__$ampere.base)) ?? \"\";\r\n  })();\r\n\r\n  return value;\r\n}\r\n\r\nwindow.addEventListener(\"message\", (event) => {\r\n  if (event.data.type === \"cookie\") {\r\n    __$ampere.cookie = event.data.value;\r\n  }\r\n});\r\n", "export function createDOMStringList(items: string[]): DOMStringList {\r\n  return Object.setPrototypeOf(\r\n    {\r\n      length: items.length,\r\n      item(index: number): string | null {\r\n        if (index !== undefined) {\r\n          return items[index] ?? null;\r\n        } else {\r\n          throw new TypeError(\r\n            \"Failed to execute 'item' on 'DOMStringList': 1 argument required, but only 0 present.\"\r\n          );\r\n        }\r\n      },\r\n      contains(string: string): boolean {\r\n        if (string !== undefined) {\r\n          return items.includes(string);\r\n        } else {\r\n          throw new TypeError(\r\n            \"Failed to execute 'contains' on 'DOMStringList': 1 argument required, but only 0 present.\"\r\n          );\r\n        }\r\n      }\r\n    },\r\n    DOMStringList.prototype\r\n  );\r\n}\r\n", "import { createDOMStringList } from \"../../util/DOMStringList\";\r\n\r\nconst backup = new Map<Location, Location>();\r\n\r\nexport function createLocationProxy(meta: Location): Location {\r\n  let bk = backup.get(meta);\r\n\r\n  if (Object.values(backup).includes(meta)) {\r\n    return meta;\r\n  }\r\n\r\n  if (!bk) {\r\n    bk = new Proxy(Object.setPrototypeOf({}, Location.prototype), {\r\n      get(t, prop: string | symbol): any {\r\n        let loc = new URL(meta.href);\r\n        if (meta.href === \"about:srcdoc\" || meta.href === \"about:blank\") {\r\n          loc = new URL(__$ampere.unwriteURL(parent.location.pathname));\r\n        } else if (meta.pathname.startsWith(__$ampere.config.prefix)) {\r\n          loc = new URL(__$ampere.unwriteURL(meta.pathname));\r\n        }\r\n\r\n        if (prop === \"constructor\") {\r\n          return meta.constructor;\r\n        } else if (prop === Symbol.toStringTag) {\r\n          return \"Location\";\r\n        } else if (prop === \"assign\") {\r\n          return (url: string) => {\r\n            meta.assign(__$ampere.rewriteURL(url, __$ampere.scope(meta)));\r\n          };\r\n        } else if (prop === \"reload\") {\r\n          return () => {\r\n            meta.reload();\r\n          };\r\n        } else if (prop === \"replace\") {\r\n          return (url: string) => {\r\n            meta.replace(__$ampere.rewriteURL(url, __$ampere.scope(meta)));\r\n          };\r\n        } else if (prop === \"toString\") {\r\n          return () => {\r\n            return __$ampere.scope(meta).href;\r\n          };\r\n        } else if (prop === \"ancestorOrigins\") {\r\n          return createDOMStringList([]);\r\n        }\r\n\r\n        // @ts-ignore\r\n        if (typeof loc[prop] !== \"undefined\") {\r\n          // @ts-ignore\r\n          return loc[prop];\r\n        }\r\n\r\n        return undefined;\r\n      },\r\n      ownKeys(): ArrayLike<string | symbol> {\r\n        return Object.keys(meta);\r\n      },\r\n      getOwnPropertyDescriptor(): PropertyDescriptor {\r\n        return {\r\n          enumerable: true,\r\n          configurable: true\r\n        };\r\n      },\r\n      set(t, prop: keyof URL, value: string): boolean {\r\n        const loc = new URL(__$ampere.unwriteURL(meta.pathname)) as any;\r\n\r\n        if (!loc[prop]) {\r\n          return false;\r\n        }\r\n\r\n        loc[prop] = value;\r\n\r\n        meta.href = __$ampere.rewriteURL(loc.toString(), __$ampere.scope(meta));\r\n\r\n        return true;\r\n      }\r\n    }) as Location;\r\n\r\n    backup.set(meta, bk);\r\n  }\r\n\r\n  return bk;\r\n}\r\n", "import { setCookie } from \"./cookie\";\r\nimport { createLocationProxy } from \"./location\";\r\n\r\nconst backup = new Map<Document, Document>();\r\n\r\nexport function createDocumentProxy(meta: Document): Document {\r\n  let bk = backup.get(meta);\r\n\r\n  if (Object.values(backup).includes(meta)) {\r\n    return meta;\r\n  }\r\n\r\n  if (!bk) {\r\n    bk = new Proxy(meta, {\r\n      get(target, prop, receiver) {\r\n        switch (prop) {\r\n          case \"location\":\r\n            return createLocationProxy(meta.location);\r\n          case \"documentURI\":\r\n            return createLocationProxy(meta.location).toString();\r\n          case \"baseURI\":\r\n            return __$ampere.base;\r\n          case \"cookie\":\r\n            return __$ampere.cookie;\r\n          case \"referrer\":\r\n            try {\r\n              return __$ampere.unwriteURL(new URL(meta.referrer).pathname);\r\n            } catch {\r\n              return \"\";\r\n            }\r\n          case \"URL\":\r\n            return createLocationProxy(meta.location).toString();\r\n          case \"domain\":\r\n            return createLocationProxy(meta.location).hostname;\r\n          case \"write\":\r\n            return (...html: string[]): void => {\r\n              meta.write(\r\n                __$ampere.rewriteHTML(\r\n                  html.join(\"\"),\r\n                  __$ampere.base,\r\n                  __$ampere.cookie\r\n                )\r\n              );\r\n            };\r\n          case \"writeln\":\r\n            return (...html: string[]): void => {\r\n              meta.write(\r\n                __$ampere.rewriteHTML(\r\n                  html.join(\"\"),\r\n                  __$ampere.base,\r\n                  __$ampere.cookie\r\n                )\r\n              );\r\n            };\r\n          default:\r\n            const value = meta[prop as keyof Document];\r\n\r\n            if (\r\n              typeof value == \"function\" &&\r\n              value.toString == self.Object.toString\r\n            ) {\r\n              return new Proxy(value, {\r\n                apply(t, g, a) {\r\n                  return Reflect.apply(t, meta, a);\r\n                }\r\n              });\r\n            } else {\r\n              return value;\r\n            }\r\n        }\r\n      },\r\n      set(target, prop, newValue, receiver) {\r\n        if (prop === \"cookie\") {\r\n          return setCookie(newValue);\r\n        }\r\n\r\n        // @ts-ignore\r\n        return (meta[prop] = newValue);\r\n      }\r\n    });\r\n\r\n    backup.set(meta, bk);\r\n  }\r\n\r\n  return bk;\r\n}\r\n", "const backup = new Map<Storage, Storage>();\r\n\r\nexport function createStorageProxy(meta: Storage): Storage {\r\n  let bk = backup.get(meta);\r\n\r\n  if (!bk) {\r\n    bk = new Proxy(Object.setPrototypeOf({}, Storage.prototype), {\r\n      get(t, prop: string | symbol): any {\r\n        const storage = Object.fromEntries(\r\n          Object.entries(meta)\r\n            .filter(([key]) =>\r\n              key.endsWith(`@${__$ampere.scope(location).host}`)\r\n            )\r\n            .map(([key, value]) => [\r\n              key.slice(\r\n                0,\r\n                key.length - __$ampere.scope(location).host.length - 1\r\n              ),\r\n              value\r\n            ])\r\n        ) as any;\r\n\r\n        if (prop === \"getItem\") {\r\n          return (key: string): string | null => {\r\n            return meta.getItem(`${key}@${__$ampere.scope(location).host}`);\r\n          };\r\n        } else if (prop === \"setItem\") {\r\n          return (key: string, value: string): void => {\r\n            return meta.setItem(\r\n              `${key}@${__$ampere.scope(location).host}`,\r\n              value\r\n            );\r\n          };\r\n        } else if (prop === \"removeItem\") {\r\n          return (key: string): void => {\r\n            return meta.removeItem(`${key}@${__$ampere.scope(location).host}`);\r\n          };\r\n        } else if (prop === \"key\") {\r\n          return (index: number) => {\r\n            return Object.keys(storage)[index];\r\n          };\r\n        } else if (prop === \"clear\") {\r\n          return (): void => {\r\n            Object.keys(storage).forEach((key) => {\r\n              meta.removeItem(`${key}@${__$ampere.scope(location).host}`);\r\n            });\r\n          };\r\n        }\r\n\r\n        return storage[prop];\r\n      },\r\n      ownKeys(): ArrayLike<string | symbol> {\r\n        return Object.keys(meta)\r\n          .filter((key) => key.endsWith(`@${__$ampere.scope(location).host}`))\r\n          .map((key) =>\r\n            key.slice(0, key.length - __$ampere.scope(location).host.length - 1)\r\n          );\r\n      },\r\n      getOwnPropertyDescriptor(): PropertyDescriptor {\r\n        return {\r\n          enumerable: true,\r\n          configurable: true\r\n        };\r\n      },\r\n      set(t, key: string | symbol, value: any): boolean {\r\n        meta.setItem(\r\n          `${key.toString()}@${__$ampere.scope(location).host}`,\r\n          value\r\n        );\r\n        return true;\r\n      }\r\n    }) as Storage;\r\n\r\n    backup.set(meta, bk);\r\n  }\r\n\r\n  return bk;\r\n}\r\n", "window.Function = new Proxy(Function, {\r\n  apply(target, thisArg, args) {\r\n    if (args[args.length - 1])\r\n      args[args.length - 1] = __$ampere.rewriteJS(\r\n        args[args.length - 1],\r\n        __$ampere.base\r\n      );\r\n\r\n    return Reflect.apply(target, thisArg, args);\r\n  }\r\n});\r\n\r\nwindow.Worker = new Proxy(Worker, {\r\n  construct(target, args) {\r\n    if (args[0]) args[0] = __$ampere.rewriteJS(args[0], __$ampere.base);\r\n\r\n    return Reflect.construct(target, args);\r\n  }\r\n});\r\n\r\nif (\"imoportScripts\" in self) {\r\n  self.importScripts = new Proxy(self.importScripts, {\r\n    apply(target, thisArg, args) {\r\n      args = args.map((arg) => __$ampere.rewriteURL(arg, __$ampere.base));\r\n\r\n      return Reflect.apply(target, thisArg, args);\r\n    }\r\n  });\r\n}\r\n\r\nexport function createEvalProxy(evalFunction: (script: string) => any): any {\r\n  new Proxy(evalFunction, {\r\n    apply(target, thisArg, args) {\r\n      if (args[0]) args[0] = __$ampere.rewriteJS(args[0], __$ampere.base);\r\n\r\n      return Reflect.apply(target, thisArg, args);\r\n    }\r\n  });\r\n}\r\n", "import { createDocumentProxy } from \"./document\";\r\nimport { createLocationProxy } from \"./location\";\r\nimport { createEvalProxy } from \"./scripting\";\r\nimport { createStorageProxy } from \"./storage\";\r\n\r\nconst backup = new Map<\r\n  Window & typeof globalThis,\r\n  Window & typeof globalThis\r\n>();\r\n\r\nexport function createWindowProxy(\r\n  meta: Window & typeof globalThis\r\n): Window & typeof globalThis {\r\n  let bk = backup.get(meta);\r\n\r\n  if (Object.values(backup).includes(meta)) {\r\n    return meta;\r\n  }\r\n\r\n  if (!bk) {\r\n    bk = new Proxy(meta, {\r\n      get(target, prop, receiver) {\r\n        switch (prop) {\r\n          case \"location\":\r\n            return createLocationProxy(meta.location);\r\n          case \"window\":\r\n            return createWindowProxy(meta.window);\r\n          case \"document\":\r\n            return createDocumentProxy(meta.document);\r\n          case \"self\":\r\n            return createWindowProxy(meta.self);\r\n          case \"top\":\r\n            // @ts-ignore\r\n            return window(meta.top ?? meta.parent);\r\n          case \"parent\":\r\n            // @ts-ignore\r\n            return createWindowProxy(meta.parent);\r\n          case \"opener\":\r\n            return createWindowProxy(meta.opener);\r\n          case \"globalThis\":\r\n            // @ts-ignore\r\n            return createWindowProxy(meta.globalThis);\r\n          case \"eval\":\r\n            return createEvalProxy(meta.eval);\r\n          case \"localStorage\":\r\n            return createStorageProxy(meta.localStorage);\r\n          case \"sessionStorage\":\r\n            return createStorageProxy(meta.sessionStorage);\r\n          default:\r\n            const value = meta[prop as keyof Window];\r\n\r\n            if (\r\n              typeof value == \"function\" &&\r\n              value.toString == self.Object.toString\r\n            ) {\r\n              return new Proxy(value, {\r\n                apply(t, g, a) {\r\n                  return Reflect.apply(t, meta, a);\r\n                }\r\n              });\r\n            } else {\r\n              return value;\r\n            }\r\n        }\r\n      },\r\n      set(target, prop, newValue, receiver) {\r\n        // @ts-ignore\r\n        meta[prop] = newValue;\r\n        return true;\r\n      }\r\n    });\r\n\r\n    backup.set(meta, bk);\r\n  }\r\n\r\n  return bk;\r\n}\r\n", "import { createDocumentProxy } from \"./api/document\";\r\nimport { createLocationProxy } from \"./api/location\";\r\nimport { createStorageProxy } from \"./api/storage\";\r\nimport { createWindowProxy } from \"./api/window\";\r\n\r\nexport function scope(value: any): any {\r\n  if (!value) return value;\r\n\r\n  if (value.constructor === Object) {\r\n  }\r\n\r\n  const type = value[Symbol.toStringTag];\r\n  const functionName = typeof value === \"function\" ? value.name : undefined;\r\n\r\n  const isNative = new RegExp(\r\n    `^function ${\r\n      type || functionName\r\n    }\\\\(\\\\)\\\\s+\\\\{\\\\s+\\\\[native code\\\\]\\\\s+\\\\}$`\r\n  ).test(value.constructor.toString());\r\n\r\n  if (!isNative) return value;\r\n\r\n  switch (type || functionName) {\r\n    case \"Window\":\r\n      return createWindowProxy(value);\r\n    case \"Location\":\r\n      return createLocationProxy(value);\r\n    case \"Storage\":\r\n      return createStorageProxy(value);\r\n    case \"HTMLDocument\":\r\n      return createDocumentProxy(value);\r\n    case \"postMessage\":\r\n      break;\r\n    case \"eval\":\r\n      return createWindowProxy(window).eval;\r\n  }\r\n\r\n  return value;\r\n}\r\n", "import \"./api/element\";\r\nimport \"./api/history\";\r\nimport \"./api/navigator\";\r\nimport \"./api/network\";\r\nimport \"./api/open\";\r\nimport \"./pluginLoader\";\r\nimport { scope } from \"./scope\";\r\n\r\nObject.defineProperty(Object.prototype, \"__$ampere\", {\r\n  value: Object.assign(globalThis.__$ampere || {}, { scope }),\r\n  configurable: false,\r\n  enumerable: false\r\n});\r\n"],
  "mappings": "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",
  "names": ["value", "parse", "cookies", "message", "target", "parse", "backup", "backup", "backup"]
}
